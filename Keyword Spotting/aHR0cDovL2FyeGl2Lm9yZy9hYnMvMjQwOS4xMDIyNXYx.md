# Voice control interface for surgical robot assistants

Ana Davila, Jacinto Colan and Yasuhisa Hasegawa

## 🧩 Problem to Solve

기존의 로봇 보조 최소 침습 수술(Robotic-assisted Minimally Invasive Surgery) 인터페이스는 조이스틱이나 GUI에 의존하여 외과의사에게 상당한 인지적 부담을 줍니다. 이는 수술 환경의 높은 스트레스와 복잡성 때문에 외과의사의 핵심 업무 집중을 방해할 수 있습니다. 또한, 기존의 음성 제어 연구는 제한된 어휘 인식, 지연 문제, 수술실의 소음 환경 등의 문제로 널리 채택되지 못했습니다.

## ✨ Key Contributions

- **새로운 음성 제어 인터페이스 제시:** 외과의사의 인지적 부담을 줄이고, 수술 효율성 및 협업 능력을 향상시키기 위해 수술 로봇 보조를 위한 음성 제어 시스템을 제안합니다.
- **Whisper 모델 통합:** 최신 음성 인식 모델인 OpenAI의 Whisper를 ROS(Robotic Operating System) 프레임워크 내에 통합하여 실시간 음성 명령 해석 및 로봇 동작 실행을 가능하게 합니다.
- **모듈형 시스템 설계:** 음성 인식 모듈, 액션 매핑 모듈, 로봇 제어 모듈로 구성된 명확한 구조를 통해 시스템의 유연성과 확장성을 확보했습니다.
- **높은 정확도 및 추론 속도 입증:** 실험을 통해 시스템이 높은 음성 인식 정확도와 빠른 추론 속도를 보임을 입증했습니다.
- **조직 삼각화 작업에서의 실현 가능성 시연:** 실제와 유사한 조직 삼각화(tissue triangulation) 작업을 통해 제안된 시스템의 수술 적용 가능성을 성공적으로 시연했습니다.

## 📎 Related Works

- **초기 음성 제어 연구:** Allaf 등[7]은 AESOP 로봇 제어에 음성 및 발 페달 인터페이스를 비교하여 음성 명령이 인지적 부담을 줄일 수 있음을 보였고, Nathan 등[8]은 내시경 수술에서 AESOP 시스템의 효과를 연구했습니다.
- **수술 효율성 향상:** El-Shallaly 등[9]은 복강경 담낭 절제술에서 음성 인식 인터페이스(VRI)가 수술 시간 및 스태프 효율성을 개선함을 입증했습니다.
- **명확한 로봇 모션 제어:** Zinchenko 등[10]은 수술 로봇 내시경의 의도적 음성 인식 제어에 대한 연구를 수행하여 정확하고 신뢰할 수 있는 음성 명령 인식의 중요성을 강조했습니다.
- **클라우드 기반 음성 인식:** Vosk, Kaldi [12]와 같은 오프라인 툴킷 외에, 클라우드 기반 시스템(예: Google Cloud Speech, Alexa) [13], [15]의 성능 및 확장성 향상 가능성이 탐구되었습니다.
- **다른 인터페이스와의 비교:** Yang 등[14]은 로봇 내시경 홀더 제어에 발 인터페이스가 음성 제어보다 우수한 성능을 보임을 제시했으나, Paul 등[16]의 연구에서는 da Vinci 수술 로봇에서 음성 제어가 수동 제어보다 선호됨을 발견했습니다.
- **심층 학습 기반 음성 인식:** Domínguez-Vidal와 Sanfeliu [17]는 CNN을 활용하여 협업 객체 운반 작업에서 음성 명령 인식을 연구했습니다.

## 🛠️ Methodology

제안된 음성 제어 시스템은 세 가지 주요 모듈로 구성됩니다: 음성 인식 모듈(SRM), 매핑 모듈(MM), 그리고 로봇 제어 모듈. 이 모든 과정은 ROS(Robotic Operating System) 프레임워크를 기반으로 구현됩니다.

1. **음성 인식 모듈 (SRM):**
   - 외과의사의 음성 입력을 고품질 마이크가 내장된 블루투스 헤드셋을 통해 녹음합니다.
   - 녹음된 오디오는 노이즈 감소 및 필터링을 거쳐 신호 품질을 향상시킵니다.
   - 전처리된 오디오는 OpenAI의 최첨단 자동 음성 인식(ASR) 모델인 **Whisper**에 입력됩니다. Whisper는 대규모 다국어 데이터셋으로 훈련되어 소음 환경에서도 높은 정확도와 견고성을 제공합니다.
   - Whisper 모델은 오디오를 실시간으로 처리하여 발화된 명령의 텍스트 스크립트를 생성합니다.
2. **매핑 모듈 (MM):**
   - SRM에서 전송된 텍스트 스크립트를 해석하고 이를 특정 로봇 동작에 매핑합니다.
   - 미리 정의된 7가지 명령(예: "hey robot", "tense", "release", "pull more", "pull less", "stop", "terminate")이 있습니다.
   - 전사된 명령과 미리 정의된 각 명령 간의 **단어 오류율(WER, Word Error Rate)**을 계산합니다.
   - WER이 미리 정의된 임계값(threshold)보다 낮은 명령 중에서 가장 낮은 WER을 가진 명령을 의도된 명령으로 선택합니다. 이를 통해 가장 정확한 해석을 보장합니다.
   - 선택된 명령은 로봇 컨트롤러로 전송됩니다.
3. **로봇 제어 모듈:**
   - 매핑 모듈에서 전달된 명령을 로봇 매니퓰레이터의 실제 동작으로 변환합니다.
   - SRM/MM은 하나의 ROS 노드로, 로봇 제어는 독립적인 ROS 노드로 구현되어 모듈성을 제공합니다.
   - ROS 서비스를 사용하여 SRM/MM 노드와 로봇 제어 노드 간의 통신이 이루어집니다.
   - 로봇 컨트롤러는 명령을 수신하여 해당 동작이 수행 가능한지 확인한 후, RCM(Remote Center-of-Motion) 제약 조건[19]을 고려하여 경로 계획, 궤적 생성 및 로봇 동작 실행을 담당하는 액션 서버로 전달합니다.

## 📊 Results

- **음성 인식 정확도:**
  - 정의된 7가지 명령에 대해 2명의 비영어권 화자가 각 명령을 30회 반복하여 인식 정확도를 평가했습니다.
  - 대부분의 명령에서 높은 인식 성능을 보였습니다. 예를 들어, "stop"은 100%에 가까운 정확도를, "tense"는 약 96%, "pull more"는 약 85%의 정확도를 나타냈습니다.
- **추론 시간:**
  - 사용자의 음성 요청 완료부터 로봇 동작 시작까지의 시간을 측정했습니다.
  - 7가지 명령에 대해 반복 측정 결과, 평균 추론 시간은 약 1.7초로, 이는 고수준 및 일반적인 음성 요청에 충분한 수준임을 보여주었습니다.
- **조직 삼각화 작업 시연:**
  - 조직 삼각화 작업을 통해 제안된 프레임워크의 실현 가능성을 시연했습니다.
  - 작업 중 작업자는 "hey robot" (로봇 보조 모드 활성화), "tense" (조직 당겨 장력 생성), "release" (조직 놓기), "pull more" / "pull less" (장력 조절), "terminate" (로봇 보조 모드 비활성화), "stop" (즉시 로봇 정지)와 같은 음성 명령을 사용하여 로봇 시스템을 제어했습니다.
  - 시연을 통해 시스템이 실제 수술 시나리오에서 효과적으로 작동할 수 있음을 확인했습니다.

## 🧠 Insights & Discussion

- **수술 효율성 및 정밀도 향상 잠재력:** 제안된 음성 제어 프레임워크는 수술 로봇 보조에 대한 새로운 접근 방식을 제공하며, 외과의사의 인지적 부담을 줄이고 수술의 정밀도와 효율성을 크게 향상시킬 잠재력을 보여줍니다.
- **Whisper 모델의 효과:** 최첨단 Whisper 음성 인식 모델의 통합은 수술실과 같은 도전적인 환경에서도 음성 명령을 실시간으로 효과적으로 해석하고 실행할 수 있음을 입증했습니다.
- **모듈형 구조의 장점:** ROS 프레임워크를 활용한 모듈형 아키텍처는 시스템의 유연성과 확장성을 보장하여 다양한 수술 시나리오에 적용 가능합니다.
- **향후 개선 방향:** 시스템의 견고성과 임상 적용 가능성을 더욱 향상시키기 위해 다음과 같은 부분에 집중할 수 있습니다:
  - **개인화된 훈련:** 외과의사의 특정 음성 패턴을 학습하도록 사전 훈련된 모델을 미세 조정(fine-tuning)함으로써 음성 인식 정확도와 신뢰성을 높일 수 있습니다.
  - **고급 기계 학습 기술:** 음성 제어와 인공지능, 기계 학습 등 다른 고급 기술의 결합은 수술 로봇 시스템의 효율성과 효과를 더욱 개선할 수 있습니다.
  - **소음 환경 강건성:** 수술실의 실제 소음 환경에 대한 강건성 추가 개선이 필요합니다.

## 📌 TL;DR

수술 로봇 제어를 위한 기존 인터페이스의 높은 인지적 부담을 해결하기 위해, 본 논문은 OpenAI의 Whisper 음성 인식 모델을 ROS 기반으로 통합한 새로운 음성 제어 인터페이스를 제안합니다. 이 시스템은 음성 인식, 액션 매핑, 로봇 제어 모듈로 구성되며, 실험 결과 높은 인식 정확도와 빠른 추론 속도를 보였고, 조직 삼각화 작업에서 수술 보조 로봇의 효과적인 음성 제어가 가능함을 시연하여 수술 효율성 향상의 잠재력을 입증했습니다. 향후 개인화된 훈련을 통해 시스템의 견고성과 임상 적용 가능성을 더욱 높일 계획입니다.
