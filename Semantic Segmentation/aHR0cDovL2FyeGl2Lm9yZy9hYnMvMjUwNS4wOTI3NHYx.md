# Recent Advances in Medical Imaging Segmentation: A Survey
Fares Bougourzi, Abdenour Hadid

## 🧩 Problem to Solve
의료 영상 분할(Medical Image Segmentation, MIS)은 현대 의료에서 진단, 치료 계획, 환자 관리에 필수적인 요소이지만, 여러 가지 복합적인 요인으로 인해 여전히 해결하기 어려운 과제입니다. 주요 문제점은 다음과 같습니다:
-   **데이터 접근성 및 주석 복잡성:** 의료 데이터는 개인 정보 보호 문제로 인해 접근이 제한적이며, 분할을 위한 픽셀 수준의 주석은 전문가의 시간과 노력이 많이 소요됩니다. 또한 전문가의 주관성에 따른 주석의 가변성도 문제입니다.
-   **구조적 다양성 및 모달리티 변화:** 의료 영상은 다양한 형태, 모호한 경계, 낮은 대비를 가진 표적 구조를 포함하며, CT, MRI, 초음파 등 다양한 영상 모달리티의 존재로 인해 복잡성이 가중됩니다.
-   **모델의 일반화 및 도메인 적응:** 딥러닝 모델은 스캐닝 장치 및 기록 설정의 차이로 인해 데이터셋 간 일반화에 어려움을 겪으며, 새로운 해부학적 구조를 분할하려면 충분한 레이블된 데이터로 새로운 모델을 훈련해야 합니다. 이는 많은 컴퓨팅 자원과 머신러닝 전문 지식을 요구합니다.
-   **자원 집약성 및 모델 불확실성:** 일부 제안된 모델은 자원 집약적이며, 전문가의 주관성이나 낮은 대비 경계로 인해 모델 예측의 불확실성이 발생할 수 있습니다.

## ✨ Key Contributions
본 연구는 의료 영상 분할(MIS) 분야의 최신 발전에 대한 포괄적인 조사를 제공하며, 다음을 주요 기여로 합니다:
-   **최첨단 방법론 탐구:** 생성형 AI, Few-Shot Learning, 파운데이션 모델, 유니버설 모델 등 의료 영상 분할의 고유한 과제를 해결하기 위한 최신 방법론을 심층적으로 분석합니다.
-   **이론적 토대 및 응용:** 각 방법론의 이론적 토대, 최신 기술, 최근 응용 사례에 대한 포괄적인 개요를 제공합니다.
-   **강점 및 한계 비교 분석:** 실제 임상 적용에서 이러한 접근 방식의 강점과 한계를 비교 분석하여 제시합니다.
-   **미해결 과제 및 미래 연구 방향 제시:** 고유한 한계, 미해결 문제, 그리고 MIS 모델의 실용성과 접근성을 향상시키기 위한 미래 연구 방향을 논의합니다.
-   **지속적인 업데이트 리소스 제공:** 이 분야의 혁신을 지속적으로 추적하고 업데이트하기 위한 GitHub 리포지토리를 운영합니다.

## 📎 Related Works
기존 의료 영상 분할(MIS) 관련 연구들은 주로 아키텍처 설계 및 손실 함수 [6, 7] 또는 트랜스포머 기반 발전의 광범위한 개요 [8, 9, 10]에 초점을 맞췄습니다. 본 연구는 이러한 기존 연구들과 차별화하여 다음과 같은 최첨단 방법론을 깊이 있게 탐구합니다:
-   생성 모델 (Generative Models)
-   Few-Shot Learning
-   파운데이션 모델 (Foundation Models)
-   유니버설 모델 (Universal Models)

## 🛠️ Methodology
본 조사는 의료 영상 분할(MIS)의 고유한 과제를 해결하기 위해 제안된 네 가지 주요 고급 딥러닝 방법론을 탐구합니다.

### 1. 생성형 AI (Generative AI)
-   **목적:** 데이터 부족, 개인 정보 보호 제약, 다양한 의료 영상 모달리티 문제를 해결하기 위해 사실적인 샘플을 생성하거나 이미지-대-이미지 변환을 수행합니다.
-   **주요 모델:**
    -   **GAN (Generative Adversarial Networks):** 생성자(G)와 판별자(D)가 미니맥스 게임(minimax game)을 통해 경쟁적으로 학습됩니다.
        -   판별자 D는 실제 데이터와 생성된 데이터를 구별하도록 훈련되며, 손실 함수 $L(\phi)$는 다음과 같습니다:
            $$L(\phi) = \sum_{j} -\log(1-\text{sig}(d[g[z_j,\theta],\phi])) - \sum_{i} \log(\text{sig}(d[x,\phi]))$$
        -   생성자 G는 판별자를 속일 수 있는 실제와 같은 샘플을 생성하도록 훈련되며, 손실 함수 $L(\theta)$는 다음과 같습니다:
            $$L(\theta) = \sum_{j} \log(1-\text{sig}(d[g[z_j,\theta],\phi]))$$
        -   **Conditional GAN (cGAN):** 특정 속성 $c_j$를 조건으로 하여 이미지 생성을 제어합니다.
        -   **CycleGAN:** 비쌍(unpaired) 이미지 간 변환을 위해 Cycle Consistency Loss를 사용합니다.
    -   **확산 모델 (Diffusion Models, DDPMs):**
        -   **순방향 확산(Forward Diffusion):** 원본 이미지 $x$에 점진적으로 노이즈를 추가하여 표준 정규 분포를 따르는 노이즈 이미지 $z_t$를 생성합니다:
            $$z_t = \sqrt{\alpha_t} \cdot x + \sqrt{1-\alpha_t} \cdot \epsilon$$
        -   **역방향 확산(Reverse Diffusion):** 훈련된 신경망 $g_t[z_t, \phi_t]$를 사용하여 노이즈를 제거하고 원본 데이터를 복원합니다. 훈련 손실 함수는 다음과 같습니다:
            $$L_t = ||g_t[\sqrt{\alpha_t} \cdot x_t + \sqrt{1-\alpha_t} \cdot \epsilon, \phi_t] - \epsilon||^2$$
-   **MIS 적용:** 데이터 증강, 분할을 위한 적대적 훈련, 준지도 학습, 자기 지도 학습, 교차 모달리티 변환 등에 활용됩니다.

### 2. Few-Shot Semantic Segmentation (FSS)
-   **목적:** 최소한의 레이블된 데이터(예: 1-5개 샘플)만으로 새로운 클래스를 재훈련 없이 학습하여 데이터 부족 문제를 해결합니다.
-   **문제 정의:** 훈련 시에는 '본 클래스($C_{seen}$)'를, 테스트 시에는 '미본 클래스($C_{unseen}$)'를 사용하여 에피소드 방식으로 진행됩니다. 쿼리 이미지($I_q$)의 분할 마스크 $\hat{M}$을 예측하기 위해 소수의 지원 세트($S=\{(I^s_i,Y^s_i)\}^k_{i=1}$)를 활용합니다: $\hat{M}=f(I_q;S)$.
-   **접근 방식:**
    -   **조건부 FSS (Conditional FSS):** 하나의 심층 아키텍처(조건부 브랜치)가 지원 세트로부터 파라미터를 생성하여 다른 아키텍처(분할 브랜치)를 조절합니다.
    -   **프로토타입 FSS (Prototypical FSS):** 공유 백본이 지원 및 쿼리 이미지를 임베딩 공간으로 매핑하고, Masked Average Pooling (MAP)을 통해 클래스 프로토타입을 생성하여 픽셀을 가장 가까운 프로토타입 클래스로 분류합니다.
    -   이 외에도 하이브리드 접근 방식이 존재합니다.
-   **주요 데이터셋:** Visceral, Abd-CT, Abd-MRI, Cardiac-MRI, ABD-110, Prostate-MRI 등이 FSS 평가 시나리오에 맞게 사용됩니다.

### 3. 파운데이션 모델 (Foundation Models)
-   **목적:** 프롬프트 기반 분할(점, 바운딩 박스, 텍스트)을 통해 수동 주석 의존도를 줄이는 범용 분할 모델을 개발합니다.
-   **주요 모델:** Segment Anything Model (SAM) [74].
    -   **SAM 구성 요소:**
        -   **Image Encoder:** ViT(Vision Transformer) 아키텍처 [76]를 사용하여 입력 이미지를 고수준 특징으로 임베딩합니다.
        -   **Prompt Encoder:** 스파스(점, 박스, 텍스트) 및 덴스(마스크) 프롬프트를 처리하여 임베딩합니다.
        -   **Mask Decoder:** 이미지 임베딩과 프롬프트 임베딩을 결합하여 최종 분할 마스크를 생성합니다.
-   **MIS 적용:**
    -   **Zero-Shot SAM:** 재훈련 없이 SAM을 의료 영상에 직접 적용하여 성능을 평가합니다.
    -   **SAM 미세 조정 (Fine-tuning):**
        -   전체 미세 조정 (예: MedSAM): 대규모 의료 이미지 데이터셋으로 모델 전체를 미세 조정합니다.
        -   파라미터 효율적 미세 조정 (PEFT): LoRA [115], S-SAM [85] 등 적은 수의 파라미터만 업데이트하여 효율성을 높입니다.
    -   **개선된 SAM (Refined SAM):** SAM의 아키텍처를 MIS에 맞게 수정합니다 (예: SAMAug [90]를 통한 입력 증강, SAM-Path [87]의 듀얼 경로).
    -   **3D SAM:** 2D SAM을 3D 의료 영상에 적용 (Med-SA [92], MA-SAM [94], FastSAM3D [95])하거나 3D SAM을 처음부터 훈련 (SAM-Med3D [93])합니다.
    -   **준지도 학습에서의 SAM:** 의사 레이블(pseudo-labels)을 생성하여 준지도 학습 성능을 향상시킵니다 [96, 98].
    -   **자동 프롬프트 SAM (Auto-Prompt SAM):** 프롬프트를 자동으로 생성하여 전문가 개입 필요성을 줄입니다 (SurgicalSAM [100], MedLSAM [103]).

### 4. 유니버설 모델 (Universal Models)
-   **목적:** 재훈련이나 미세 조정 없이 소수의 샘플만으로 동일하거나 다른 모달리티의 새로운 클래스나 작업 전반에 걸쳐 일반화할 수 있는 단일 모델을 개발합니다.
-   **문제 정의:** 지원 세트 $S' = \{(I'_i{_s},Y'_i{_s})\}^n_{i=1}$ 에 있는 레이블된 예제를 사용하여 쿼리 이미지 $I'_q$에서 대상 클래스 $c'$를 예측합니다: $\hat{y}'_q = U(I'_q, S')$.
-   **접근 방식:**
    -   **CLIP-Driven Universal [15]:** CLIP 클래스 임베딩과 일반 이미지 표현을 결합하여 제어 파라미터를 생성하고 분할에 적용합니다.
    -   **UnivSeg [129]:** U-Net 기반 아키텍처로, CrossBlock 모듈을 통해 쿼리 이미지와 지원 세트 간의 상호작용 특징을 추출하여 새로운 클래스 및 모달리티에 일반화합니다.
    -   **Tyche [16]:** UniverSeg를 확장하여 SetBlock을 도입, 불확실성을 고려한 예측을 제공하며 후보 표현을 사용하여 다양한 예측을 생성합니다.

## 📊 Results
각 방법론별 주요 결과는 다음과 같습니다:

-   **생성형 모델:**
    -   데이터 증강을 넘어 준지도, 자기 지도 학습, 그리고 직접적인 분할에까지 활용되어 전문가 수준에 근접한 성능을 달성했습니다.
    -   특히 CycleGAN은 교차 모달리티(cross-modality) 학습에 널리 채택되었으며, 확산 모델과 하이브리드 접근 방식은 분할 성능을 새로운 수준으로 끌어올리며 큰 잠재력을 보여주고 있습니다.

-   **Few-Shot Semantic Segmentation (FSS):**
    -   지도 학습 방식과의 성능 격차가 줄어들고 있으며, 프로토타입 네트워크 및 하이브리드 접근 방식(3D 모델 포함)이 복부 장기 및 심근 분할에서 유망한 결과를 보여주었습니다.
    -   교차 기관(cross-institution) FSS와 같은 새로운 연구 영역이 부상하고 있습니다.

-   **파운데이션 모델 (SAM):**
    -   **제로샷 (Zero-shot) 성능:** 특정 의료 영상 모달리티 및 작업에서 우수한 성능을 보였으나, 저대비 또는 모호한 경계의 경우 신뢰할 수 있는 직접 적용에는 불충분합니다. 바운딩 박스 프롬프트가 포인트 프롬프트보다 일반적으로 우수한 성능을 보였습니다.
    -   **미세 조정 (Fine-tuning):** MedSAM은 미본 클래스 및 모달리티에 대한 일반화 능력이 뛰어나며, 주석 시간을 최대 82% 단축하는 상당한 이점을 제공합니다.
    -   매개변수 효율적 미세 조정(PEFT) 방법과 아키텍처 수정은 다양한 MIS 작업에서 SOTA(State-Of-The-Art) 성능을 달성했습니다.
    -   **3D SAM:** 2D SAM을 3D로 확장하거나 처음부터 3D 모델로 훈련된 SAM 모델들은 체적 데이터에서 뛰어난 성능을 보여줍니다.
    -   준지도 학습 프레임워크 및 자동 프롬프트 생성 방식에서도 효율성이 입증되어 실제 적용 가능성을 높이고 있습니다.

-   **유니버설 모델:**
    -   도메인 변화(domain shift)를 처리하고 최소한의 예제로 새로운 분할 작업에 적응하는 데 유망한 성능을 입증했습니다.
    -   UniverSeg 및 Tyche와 같은 모델은 FSS 및 지도 학습 상한선(supervised upper bound)에 필적하는 경쟁력 있는 성능을 달성했습니다.

## 🧠 Insights & Discussion
각 방법론은 상당한 발전을 이루었지만, 여전히 중요한 문제들이 남아 있습니다:

-   **공통적인 한계점:**
    -   **표준화된 벤치마크 부족:** 각 연구마다 다른 평가 기준과 데이터셋을 사용하여 모델 간의 효과적인 비교를 어렵게 합니다. 특히 유니버설 모델의 경우 의료 데이터의 개인 정보 보호 제약으로 인해 데이터 공유가 제한되어 벤치마크 확립에 큰 어려움이 있습니다.
    -   **작업 다양성 부족:** Few-Shot Learning의 경우 주로 복부 장기 분할에 집중되어 있어 의료 영상 작업의 다양성이 부족합니다.
    -   **재현 가능한 구현 부족:** 일부 연구의 코드 미공개는 연구 진행을 방해하고, 동일한 접근 방식에 대한 상반된 결과로 이어질 수 있습니다.

-   **생성형 모델:** 통일된 평가 프로토콜과 벤치마크 데이터셋의 부재가 모델 비교를 어렵게 합니다. 파운데이션 모델이나 유니버설 모델과의 통합을 통해 성능 향상 및 개별 방법론의 한계 극복이 가능할 것입니다.

-   **Few-Shot Semantic Segmentation (FSS):** 여전히 지도 학습 방식과의 성능 격차가 존재합니다. 미래 연구는 이 격차를 줄이는 혁신적인 아키텍처나 훈련 패러다임을 모색해야 합니다.

-   **파운데이션 모델 (SAM):** 저대비, 모호한 경계, 여러 개의 단절된 관심 영역, 그리고 저표현 모달리티(underrepresented modalities)와 같은 문제에 직면합니다. SAM의 원래 훈련에서 사용된 정제 기반 상호작용 전략을 통합하고, 의료 전문가와의 직접적인 상호작용을 허용하는 경량의 사용자 친화적 플랫폼 개발이 임상 통합에 필수적입니다. SAM은 초기 분할 마스크 생성 및 주석 프로세스 가속화에 강력한 출발점임을 입증했습니다.

-   **유니버설 모델:** 명확한 정의와 표준화된 벤치마크가 필요합니다. 합성 데이터셋 또는 연합 학습(federated learning) 프레임워크를 탐색하여 개인 정보 보호 규정을 준수하면서 엄격한 평가를 가능하게 해야 합니다.

궁극적으로, 이러한 한계점을 극복하기 위해서는 연구자, 임상의, 정책 입안자 간의 협력적이고 다학제적인 노력이 필수적입니다. 이는 보다 강력하고 확장 가능하며 일반화 가능한 MIS 솔루션의 길을 열어 궁극적으로 의료 진단 및 치료 계획의 실제 적용 가능성을 향상시킬 것입니다.

## 📌 TL;DR
-   **문제:** 의료 영상 분할은 데이터 부족, 복잡한 주석, 도메인 변화, 일반화 능력 등 여러 난관에 직면해 있습니다.
-   **방법:** 본 조사는 생성형 AI, Few-Shot Learning, 파운데이션 모델(특히 SAM), 유니버설 모델이라는 네 가지 핵심 분야의 최신 발전을 검토합니다.
-   **주요 발견:** 이들 접근 방식은 데이터 부족, 교차 모달리티 학습, 효율적인 주석 작업, 미본 작업/모달리티에 대한 일반화에 유망한 해결책을 제공합니다. 그러나 표준화된 벤치마크 부족, 작업 다양성 한계, 그리고 완전 지도 학습 방식과의 성능 격차 등 여전히 해결해야 할 과제들이 남아 있습니다. 미래 연구는 이러한 격차를 줄이기 위한 협력적인 노력이 필요합니다.