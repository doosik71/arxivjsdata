# Methods and datasets for segmentation of minimally invasive surgical instruments in endoscopic images and videos: A review of the state of the art

Tobias Rueckert, Daniel Rueckert, Christoph Palm

## 🧩 Problem to Solve

본 연구는 내시경 이미지 및 비디오에서 최소 침습 수술(Minimally Invasive Surgery, MIS) 기구를 정확하게 분할(segmentation)하는 문제에 초점을 맞춥니다. 수술 기구의 위치와 유형을 결정하는 것은 컴퓨터 및 로봇 보조 수술(RAMIS) 분야에서 핵심적인 요소이나, 기존의 기구 인식 방법들은 다음과 같은 한계를 가집니다:

* **추가적인 노력:** 전자기 또는 적외선 기반 추적이나 외부 마커 부착 방식은 수술 준비에 추가적인 노력이 필요하고 기존 수술 워크플로우에 통합하기 어렵습니다.
* **정확도 문제:** 바운딩 박스를 이용한 객체 감지 방식은 처리 속도가 빠르지만, 기구의 복잡한 형태 때문에 픽셀 단위의 정밀한 위치 파악에는 한계가 있습니다.
* **시간 정보 활용 부족:** 수술 기구의 움직임 예측과 같은 시간적 정보 활용을 통해 분할 품질을 향상시킬 수 있는 잠재력이 충분히 활용되지 못하고 있습니다.

따라서 픽셀 단위의 정밀한 실시간 분할이 가능하며 시간적 정보를 효과적으로 통합하여 정확도를 높일 수 있는 시각 기반 방법론의 필요성이 제기됩니다.

## ✨ Key Contributions

본 논문은 최소 침습 수술 기구 분할 분야의 현재 상태를 종합적으로 검토하며 다음과 같은 핵심 기여를 제시합니다.

* **데이터셋 식별 및 특성화:** 수술 기구 분할 및 추적 방법 개발과 평가에 사용되는 공개 데이터셋들을 식별하고 특성을 분석하며, 문헌에서의 활용 빈도를 정량화했습니다.
* **체계적인 문헌 분석:** 내시경 이미지 및 비디오에서 수술 기구의 시맨틱(semantic) 및 인스턴스(instance) 기반 분할에 관한 최신 논문들을 체계적으로 검색하고 분석했습니다. 특히, 순수 시각 기반(마커 없음), 단일 프레임 접근 방식, 그리고 시간적 정보를 통합한 접근 방식을 모두 고려했습니다.
* **현재 연구 동향 논의 및 미래 방향 제시:** 검토된 문헌을 바탕으로 기존 방법론의 한계점과 도전 과제를 명확히 하고, 향후 연구 및 개발을 위한 잠재적인 방향을 제시했습니다.

## 📎 Related Works

이전의 관련 연구들은 주로 다음과 같은 특징을 보였습니다.

* **Bouget et al. (2017), Yang et al. (2020), Anteby et al. (2021), Rivas-Blanco et al. (2021), Nema and Vachhani (2022), Wang et al. (2022) 등:** 이들 연구는 수술 기구 **감지(detection)** 및 **추적(tracking)** 에 중점을 두었으며, 종종 바운딩 박스 기반의 객체 감지 방법을 중심으로 다루었습니다.
* **"분할(segmentation)" 키워드의 부재:** 이전 검토 논문들의 검색어에 "segmentation" 키워드가 포함되지 않아, 픽셀 단위의 정밀한 기구 분할 방법론에 대한 심층적인 분석이 부족했습니다.
* **방법론적 세부 사항 부족 및 시대적 한계:** 많은 이전 연구들이 검색 플랫폼, 검색어, 기간, 선정 기준 등 검토 방법론에 대한 구체적인 정보를 생략하여 추적 가능성이 낮았고, 이 분야의 급격한 발전으로 인해 현재의 최신 기술을 반영하지 못하는 경우가 많았습니다.

본 논문은 이러한 한계점을 극복하기 위해 **분할(segmentation)** 에 명확히 초점을 맞추고, 체계적인 검색 방법론과 최신 문헌을 포함하여 보다 포괄적이고 심층적인 분석을 제공합니다.

## 🛠️ Methodology

본 연구는 최소 침습 수술 기구 분할 분야의 최신 동향을 파악하기 위해 다음과 같은 체계적인 문헌 검토 방법론을 사용했습니다.

* **문헌 검색:**
  * **플랫폼:** Google Scholar, Web of Science, PubMed.
  * **검색어:** "instrument segmentation", "instrument tracking", "surgical tool segmentation", "surgical tool tracking".
  * **기간:** 2015년 1월 1일부터 2023년 7월까지 출판된 논문.
  * **범위:** 모든 플랫폼에서 검색어의 모든 부분이 논문 제목에 나타나는 경우에 해당 논문을 검색했습니다.
* **논문 선정 기준:**
  * **데이터 유형:** 내시경 영상 데이터를 기반으로 개발 및 검증된 방법론만을 고려했습니다.
  * **방법론의 참신성:** 순수하게 새로운 방법론적 개발에 초점을 맞췄으며, 기존 방법의 단순 적용 사례는 제외했습니다.
  * **처리 방식:** 기구에 부착된 외부 마커를 사용하지 않고 순수하게 시각 기반으로 영상을 처리하는 방법만을 포함했습니다.
  * **언어 및 형식:** 영어로 작성되었고 동료 심사를 거친(peer-reviewed) 논문만을 고려했습니다.
  * **추가 처리:** 수술 기구 분할 결과를 로봇 시스템 제어와 같은 추가 응용에 활용하는 논문들은 별도로 분류하여 설명했습니다.
* **데이터 추출 및 분석:**
  * 각 논문에서 제목, 사용된 데이터셋, 분할 유형(시맨틱 또는 인스턴스), 이진/기구 유형/기구 부분 분할 여부, 시간 정보 활용 여부 및 그 방법론 등을 추출했습니다.
  * 초기에 741개의 논문이 검색되었고, 선정 기준에 따라 최종적으로 123개의 관련 논문이 분석에 포함되었습니다.
* **데이터셋 분석:** 공개 데이터셋의 사용 빈도와 특성을 분석하여 연구 동향을 파악했습니다.
* **방법론 분류:** 수집된 논문들은 크게 시맨틱 분할과 인스턴스 분할로 나누고, 각 분할 유형 내에서 단일 프레임 분할과 시간 정보를 통합한 분할로 세분화하여 분할 유형, 학습 전략, 추론 속도, 어텐션 메커니즘 적용 여부 등을 상세히 검토했습니다.

## 📊 Results

본 연구는 2015년 1월부터 2023년 7월까지 총 123개의 관련 논문을 분석했으며, 이 기간 동안 연구 발표 수가 지속적으로 증가하는 긍정적인 추세를 확인했습니다.

### 데이터셋

* 분석된 123개 논문에서 총 187개의 데이터셋이 사용되었으나, **수술 기구의 분할 ground truth가 포함된 공개 내시경 데이터셋은 9개**에 불과했습니다.
* **EndoVis-2017** 데이터셋이 62개 논문에서 사용되어 가장 높은 활용도를 보였습니다. 그 다음으로는 연구자들이 직접 수집한 **"Private Datasets"** (40개), 그리고 **EndoVis-2015, EndoVis-2018, Kvasir Instrument** (각 14개) 순이었습니다.
* MICCAI 챌린지 관련 데이터셋들이 상위권에 랭크되어, 이러한 챌린지가 연구 개발에 미치는 영향이 매우 크다는 것을 시사합니다.

### 시맨틱 분할 방법론

* **단일 프레임 분할 (72개 논문):**
  * **분할 유형:** 대부분 **이진 분할** (42개)에 집중되었으며, 기구 유형, 기구 부분 분할을 결합한 경우가 뒤를 이었습니다.
  * **학습 전략:** **지도 학습** (39개)이 지배적이었고, 약지도 학습(10개), 준지도 학습(3개), 그리고 기타 접근 방식(5개)이 있었습니다.
  * **도메인 적응:** 합성 데이터 생성 또는 비지도 이미지-투-이미지(I2I) 변환을 통한 도메인 적응 연구가 활발했습니다.
  * **추론 속도:** 19개 논문에서 실시간 처리 속도를 보고했으며, 최고 속도는 Islam et al. (2019)의 174 FPS였습니다.
  * **어텐션 메커니즘:** 네트워크 아키텍처 내에서 특징 추출 및 노이즈 억제를 위해 널리 사용되었습니다.
* **시간 정보 활용 분할 (18개 논문):**
  * **분할 유형:** 역시 **이진 분할** (12개)이 대부분이었습니다.
  * **학습 전략:** 지도 학습(5개) 외에 준지도(3개), 비지도(8개 포함) 학습 및 도메인 적응 접근 방식이 사용되었습니다.
  * **추적 접근 방식:** 순환 레이어(RNN, LSTM), 옵티컬 플로우(Optical Flow), 온라인 적응 기법 등이 활용되었습니다.
  * **추론 속도:** 9개 논문에서 속도를 보고했으며, Lin et al. (2021)의 182 FPS가 최고였습니다.
  * **어텐션 메커니즘:** 특징 집계, 노이즈 식별 등에 활용되었습니다.

### 인스턴스 분할 방법론

* **단일 프레임 분할 (12개 논문):**
  * **분할 유형:** **기구 유형**을 구분하는 연구(6개)가 가장 많아, 시맨틱 분할보다 기구 개별 식별에 중점을 두는 경향을 보였습니다.
  * **학습 전략:** 모든 연구가 **지도 학습** 기반이었습니다.
  * **추론 속도:** 3개 논문에서 속도를 보고했으며, Cerón et al. (2021)의 49 FPS가 최고였습니다.
  * **어텐션 메커니즘:** Criss-cross 어텐션, 컨볼루션 블록 어텐션 모듈, Swin-Transformer 블록 등이 활용되었습니다.
* **시간 정보 활용 분할 (4개 논문):**
  * **분할 유형:** **기구 유형**을 구분하는 연구(3개)가 많았습니다.
  * **학습 전략:** 모든 연구가 **지도 학습** 기반이었습니다.
  * **추적 접근 방식:** DeepSORT 알고리즘, 시간적 일관성 모듈, 시공간 LSTM, Transformer 모듈 등이 활용되었습니다.
  * **추론 속도:** 1개 논문(Zhao et al., 2022)에서 23 FPS를 보고했습니다.
  * **어텐션 메커니즘:** Transformer 기반의 자기-어텐션 및 교차-어텐션 메커니즘이 사용되었습니다.

### 분할 결과의 추가 처리

수술 기구 분할 결과는 로봇 내시경 보조(endoscope-holding robotic assistant)의 안정적인 제어, 시각 서보 제어, 자율 3D 기구 추적 등 로봇 시스템 제어 및 자동화 분야에서 실제 적용 가능성을 보여주었습니다.

## 🧠 Insights & Discussion

본 연구는 수술 기구 분할 분야의 급속한 성장과 중요성을 확인했지만, 동시에 여러 가지 한계와 발전 가능성을 제시합니다.

* **데이터셋의 한계 및 잠재력:**
  * **비공개 데이터셋 의존:** 많은 연구(40개 논문)가 자체 수집한 비공개 데이터셋에 의존하고 있어 결과의 재현성과 비교 가능성을 저해합니다. 향후 연구자들은 공개 데이터셋을 활용하거나 자체 데이터를 공개하도록 장려되어야 합니다.
  * **실세계 도전 과제 부족:** 공개 데이터셋은 여전히 실세계 수술 환경의 다양한 도전 과제(예: 다른 수술 유형, 다른 기관의 데이터)를 충분히 반영하지 못하고 있습니다. EndoVis-2019와 같이 견고성과 일반화 능력에 초점을 맞춘 데이터셋의 등장은 긍정적인 신호입니다.
  * **합성/시뮬레이션 데이터의 잠재력:** Laparoscopic I2I Translation, RoboTool, UCL dVRK 데이터셋처럼 합성 또는 시뮬레이션 데이터를 생성하여 수동 어노테이션 노력을 줄이는 접근 방식은 미래 데이터셋 개발의 중요한 방향이 될 것입니다.

* **시맨틱 분할 방법론의 방향:**
  * **시간적 맥락 활용 부족:** 대부분의 시맨틱 분할 연구는 단일 프레임 이진 분할에 집중하여 시간적 정보를 간과하고 있습니다. 이는 결과 품질 향상과 실시간 처리 속도 확보에 큰 잠재력을 놓치는 것입니다. 시간적 정보를 통합하는 방법론의 개발이 시급합니다.
  * **이진 분할의 한계:** 기구와 배경을 이진으로 구분하는 방식은 수술 기구의 유형이나 세부 부위(예: 샤프트, 팁)를 구분해야 하는 실제 응용 시나리오에 불충분합니다. 기구 유형 및 부분 분할에 대한 연구 확대가 필요합니다.
  * **학습 전략 다양화:** 지도 학습이 지배적이나, 데이터 어노테이션의 시간 및 비용 문제로 인해 준지도, 약지도, 비지도 학습 및 도메인 적응(합성 데이터 활용 포함) 방법론의 중요성이 커지고 있습니다. 이러한 분야에서 더 많은 발전이 예상됩니다.
  * **실시간 처리의 중요성:** 실세계 수술 환경에서 적용되기 위해서는 실시간 처리 속도가 필수적임에도 불구하고, 많은 단일 프레임 방법론은 품질에 비해 속도에 대한 인식이 낮습니다. 향후에는 품질과 속도 두 가지 측면을 모두 고려해야 합니다.
  * **어텐션 메커니즘의 부상:** 어텐션 기반 기술은 네트워크 아키텍처에 통합되어 특징 추출 및 분할 품질 향상에 크게 기여하고 있으며, 앞으로도 활발한 연구 주제가 될 것입니다.

* **인스턴스 분할 방법론의 성장 잠재력:**
  * **활용도 대비 낮은 연구 수:** 인스턴스 분할은 이미지 내 각 수술 기구에 고유 식별자를 부여하여 동일 유형의 여러 기구를 구분하고 개별적으로 추적할 수 있는 중요한 장점에도 불구하고, 시맨틱 분할에 비해 연구 수가 현저히 적습니다. 실제 적용 가능성을 높이는 데 핵심적인 역할을 할 수 있어 향후 높은 잠재력을 가집니다.
  * **기구 유형 구분에 강점:** 인스턴스 분할은 설계상 기구 유형 구분에 적합하며, 이는 시맨틱 분할 대비 강점입니다.
  * **학습 전략의 제한:** 현재까지 인스턴스 분할 연구는 모두 지도 학습에 의존하고 있으며, 합성 데이터 활용 사례가 없습니다. 이는 어노테이션 부담을 줄이기 위한 새로운 학습 전략 및 합성 데이터 생성/활용 연구의 기회가 될 수 있습니다.
  * **실시간 처리 및 어텐션:** 시맨틱 분할과 마찬가지로 실시간 처리 속도에 대한 인식을 높이고, 어텐션 기반 기술의 활용을 확대하는 것이 중요합니다.

* **분할 결과의 실제적 중요성:** 수술 기구 분할은 로봇 보조 수술 시스템의 제어 및 자동화와 같은 실제 응용 분야에서 높은 가치를 지닙니다. 고품질의 빠른 분할은 이러한 응용의 핵심 기반입니다.

**결론적으로,** 수술 기구 분할 연구는 지속적으로 확장될 것이며, 공개 데이터셋의 확충, 합성/시뮬레이션 데이터의 활용, 어노테이션 부담을 줄이는 새로운 학습 전략(준지도, 약지도, 비지도), 시간 정보의 적극적인 통합, 실시간 성능 향상, 그리고 인스턴스 분할 방법론의 발전에 초점을 맞출 필요가 있습니다.

## 📌 TL;DR

내시경 수술 기구 분할에 대한 2015-2023년 문헌을 체계적으로 검토한 결과, 연구 활동은 급증하고 있으나, 공개 데이터셋이 부족하고 많은 연구가 비공개 데이터셋에 의존하고 있음이 확인되었다. 대부분의 시맨틱 분할 방법은 지도 학습 기반의 이진, 단일 프레임 접근 방식에 집중되어 시간적 맥락과 기구 유형/부분 구분을 간과하는 경향이 있으며, 이는 실용적인 적용 및 실시간 성능에 한계로 작용한다. 인스턴스 분할은 개별 기구 식별 및 추적의 강점으로 높은 잠재력을 가지지만, 현재 연구 수가 적고 지도 학습에만 의존하고 있다. 향후 연구는 데이터셋 공개, 합성 데이터 활용, 어노테이션 노력 감소를 위한 준지도/약지도/비지도 학습 전략 다양화, 실시간 성능 향상, 시간 정보 통합, 그리고 어텐션 메커니즘 적용에 집중될 필요가 있다.
